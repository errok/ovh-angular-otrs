/*! ovh-angular-otrs - 5.0.0 - 2018-03-22 */
angular.module("ovh-angular-otrs",["ovh-api-services","ovh-angular-toaster","ovh-jquery-ui-draggable-ng"]),angular.module("ovh-angular-otrs").service("OtrsPopupInterventionService",["$q","OvhHttp",function(a,b){"use strict";function c(a){return b.get("/dedicated/server/{serviceName}",{rootPath:"apiv6",urlParams:{serviceName:a},cache:i.all})}function d(a){return b.get("/dedicated/server/{serviceName}/specifications/hardware",{rootPath:"apiv6",urlParams:{serviceName:a}})}function e(a,b){return"HG"===a.commercialRange.toUpperCase()&&_.includes(["2U","4U"],b.formFactor.toUpperCase())}function f(a){return _.some(a.diskGroups,{raidController:"MegaRaid"})}function g(a,b){var c="HG"===a.commercialRange.toUpperCase(),d=b.formFactor&&"4U"===b.formFactor.toUpperCase()?24:12;return{canUseSlotId:c,slotsCount:d}}var h=this,i={all:"UNIVERS_DEDICATED_SERVER"};h.sendDiskReplacement=function(a,c){var d=_.assign({},c);return d.comment||(d.comment="No message"),b.post("/dedicated/server/{serviceName}/support/replace/hardDiskDrive",{rootPath:"apiv6",urlParams:{serviceName:a},data:d})},h.getServerInterventionInfo=function(b){return a.all({serverInfo:c(b),hardwareInfo:d(b)}).then(function(a){return{canHotSwap:e(a.serverInfo,a.hardwareInfo),hasMegaRaid:f(a.hardwareInfo),slotInfo:g(a.serverInfo,a.hardwareInfo)}})}}]),angular.module("ovh-angular-otrs").constant("OTRS_POPUP_ASSISTANCE_ENUM",{USAGE:"usage",START:"start",NEW:"new",OTHER:"other"}).constant("OTRS_POPUP_BILLING_ENUM",{INPROGRESS:"inProgress",NEW:"new",BILL:"bill",OTHER:"other"}).constant("OTRS_POPUP_INCIDENT_ENUM",{PERFS:"perfs",ALERTS:"alerts",DOWN:"down"}).constant("OTRS_POPUP_INTERVENTION_ENUM",{REPLACEMENTDISK:"replacement-disk",OTHER:"other"}).constant("OTRS_POPUP_CATEGORIES",{ASSISTANCE:"assistance",BILLING:"billing",INCIDENT:"incident",INTERVENTION:"intervention"}).constant("OTRS_POPUP_SERVICES",{DOMAIN:"DOMAIN",HOSTING:"HOSTING",EMAIL:"EMAIL_DOMAIN",ZONE:"ZONE",SQL:"PRIVATE_DATABASE",EXCHANGE:"EXCHANGE",OFFICE_365:"OFFICE_365",VPS:"VPS",LOAD_BALANCER:"LOAD_BALANCER",FAILOVER:"FAILOVER",CLOUD:"CLOUD",CDN:"CDN_WEBSTORAGE",DEDICATED:"DEDICATED",CDN_DEDICATED:"CDN_DEDICATED"}).constant("OTRS_POPUP_UNIVERSES",{EU:["CLOUD_DEDICATED","SUNRISE","TELECOM","WEB"],CA:["CLOUD_DEDICATED","SUNRISE"],US:["CLOUD_DEDICATED"]}),angular.module("ovh-angular-otrs").controller("OtrsPopupCtrl",["$q","$rootScope","$scope","$stateParams","$transitions","$translate","OvhApiMe","OvhApiMeVipStatus","OvhApiProductsAapi","OvhApiSupport","Alerter","constants","featureAvailability","OtrsPopupService","OtrsPopupInterventionService","OTRS_POPUP_ASSISTANCE_ENUM","OTRS_POPUP_BILLING_ENUM","OTRS_POPUP_CATEGORIES","OTRS_POPUP_INCIDENT_ENUM","OTRS_POPUP_INTERVENTION_ENUM","OTRS_POPUP_SERVICES","OTRS_POPUP_UNIVERSES","TICKET_CATEGORIES","UNIVERSE",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){"use strict";function y(){D.ticket={body:null,serviceName:null,subject:null,type:null},D.universes=_.get(v,b.target,v.EU);var a="GAMMA"===x?"SUNRISE":x;D.selectedUniverse=_.includes(["CLOUD","DEDICATED"],a)||!a?"CLOUD_DEDICATED":a,D.intervention={serviceName:null,request:"intervention",disk:{comment:null,disks:[{id:1}],inverse:!1},guides:{},hasMegaRaid:!1,slotInfo:{},enums:{slotID:[]}}}function z(a,b){return a?(D.alert.visible=!0,D.alert.message=a,void(D.alert.type=b)):void(D.alert.visible=!1)}function A(){return _.filter(D.services,function(a){return _.find(a.services,{serviceName:D.ticket.serviceName})})}function B(){return"SERVER"===_.first(_.map(A(),"name"))}function C(){return D.loaders.intervention=!0,D.intervention.canHotSwap=!1,D.intervention.hasMegaRaid=!1,D.intervention.slotInfo.canUseSlotId=null,D.intervention.slotInfo.slotsCount=0,o.getServerInterventionInfo(D.intervention.serviceName).then(function(a){D.intervention.canHotSwap=a.canHotSwap,D.intervention.hasMegaRaid=a.hasMegaRaid,D.intervention.slotInfo=a.slotInfo,D.intervention.slotInfo.canUseSlotId&&(D.intervention.enums.slotID=Array.apply(null,{length:D.intervention.slotInfo.slotsCount}).map(Number.call,Number))})["catch"](function(){z(f.instant("otrs_intervention_disk_error"),"danger")})["finally"](function(){D.loaders.intervention=!1})}var D=this,E="other";D.loaders={send:!1,services:!1,models:!1,intervention:!1},D.currentUser=null,D.isVIP=!1,D.services=[],e.onSuccess({},function(a){var b=a.params();b.projectId&&D.services&&-1!==D.services.indexOf(b.projectId)&&(D.ticket.serviceName=b.projectId)}),D.getServices=function(){return D.loaders.services=!0,z(),i.get({includeInactives:!0,universe:"CLOUD_DEDICATED"===D.selectedUniverse?"DEDICATED":D.selectedUniverse}).$promise.then(function(b){var c=b.results.map(function(a){return f("otrs_service_category_"+a.name,null,null,a.name).then(function(b){return a.translatedName=b,a})});return a.all(c).then(function(a){return a=a.sort(function(a,b){return a.translatedName.localeCompare(b.translatedName)}),a.push({translatedName:f.instant("otrs_service_category_other"),services:[{serviceName:E,displayName:f.instant("otrs_service_category_other")}]}),D.services=a,a})})["catch"](function(a){z([(f.instant("otrs_err_get_infos"),a.data&&a.data.message||"")].join(" "),"danger")})["finally"](function(){D.loaders.services=!1})},D.sendTicket=function(){return z(),!D.loaders.send&&D.ticket.body?(D.loaders.send=!0,D.ticket.serviceName===E&&(D.ticket.serviceName="",D.ticket.category=w.DEFAULT),j.Lexi().create(D.ticket).$promise.then(function(a){y(),D.otrsPopupForm.$setUntouched(),D.otrsPopupForm.$setPristine(),b.$broadcast("ticket.otrs.reload"),z(f.instant("otrs_popup_sent_success",{ticketNumber:a.ticketNumber,ticketId:a.ticketId}),"success")})["catch"](function(a){z([(f.instant("otrs_popup_sent_error"),a.data&&a.data.message||"")].join(" "),"danger")})["finally"](function(){D.loaders.send=!1})):a.when()},D.sendDiskReplacement=function(){return D.loaders.send?a.when():(D.loaders.send=!0,o.sendDiskReplacement(D.intervention.serviceName,D.intervention.disk).then(function(a){y(),b.$broadcast("ticket.otrs.reload"),z(f.instant("otrs_popup_sent_success",{ticketNumber:a.ticketNumber,ticketId:a.ticketId}),"success")})["catch"](function(a){if(_.includes(a.message,"This feature is currently not supported in your datacenter"))z(f.instant("otrs_popup_sent_error_not_available"),"danger");else if(_.includes(a.message,"Action pending : ticketId ")){var b=/\d+$/.exec(a.message);z(f.instant("otrs_popup_sent_error_already_exists",{ticketId:b}),"danger")}else z([f.instant("otrs_popup_sent_error"),_.get(a,"message","")].join(" "),"danger")})["finally"](function(){D.loaders.send=!1,D.refreshFAQ(),D.refreshRequests(),D.setForm("start")}))},D.refreshFAQ=function(){D.faq={};var a="";switch(D.services.choice&&(a=D.services.choice.category),D.ticket.serviceName&&(a=_.first(_.map(A(),"name"))),a){case D.servicesValues.DOMAIN:case D.servicesValues.HOSTING:case D.servicesValues.EMAIL:case D.servicesValues.ZONE:case D.servicesValues.SQL:D.faq.url=l.urls.FAQS.WEB.URL[D.currentUser.ovhSubsidiary],D.faq.title=l.urls.FAQS.WEB.TITLE;break;case D.servicesValues.EXCHANGE:D.faq.url=l.urls.FAQS.EXCHANGE.URL[D.currentUser.ovhSubsidiary],D.faq.title=l.urls.FAQS.EXCHANGE.TITLE;break;case D.servicesValues.OFFICE_365:D.faq.url=l.urls.FAQS.OFFICE_365.URL[D.currentUser.ovhSubsidiary],D.faq.title=l.urls.FAQS.OFFICE_365.TITLE;break;case D.servicesValues.DEDICATED:case"SERVER":D.faq.url=l.urls[D.currentUser.ovhSubsidiary].faq,D.faq.title="otrs_popup_service_faq_sd";break;case D.servicesValues.VPS:D.faq.url=l.urls[D.currentUser.ovhSubsidiary].faqVps,D.faq.title="otrs_popup_service_faq_vps"}return D.faq},D.refreshRequests=function(){m.allowDedicatedServerHardwareReplacement()&&B()&&!_.includes(D.requests,D.intervention.request)?D.requests.push(D.intervention.request):B()||(_.remove(D.requests,function(a){return D.intervention.request===a}),D.ticket.category=void 0,D.ticket.subcategory=null)},D.refreshFormDetails=function(){D.ticket.subcategory===t.REPLACEMENTDISK&&"message"===D.formDetails&&(D.refreshRequests(),D.setForm("start"))},D.addDisk=function(){var a=D.intervention.disk.disks.length+1;D.intervention.disk.disks.push({id:a})},D.removeChoice=function(a){D.intervention.disk.disks.splice(a,1)},D.productHasFaq=function(){return D.faq&&D.faq.url&&"US"!==D.currentUser.ovhSubsidiary},D.setForm=function(a){D.formDetails=a},D.continueForm=function(){D.ticket&&D.ticket.category===r.INTERVENTION&&D.ticket.subcategory===t.REPLACEMENTDISK?(D.intervention.serviceName=D.ticket.serviceName,D.setForm(t.REPLACEMENTDISK)):D.ticket&&D.ticket.category===r.INTERVENTION&&D.ticket.subcategory===t.OTHER?(D.ticket.category=r.INCIDENT,D.ticket.subcategory=s.DOWN,D.setForm("message")):D.setForm("message")},c.$watch("OtrsPopupCtrl.intervention.serviceName",function(a,b){a&&a!==b&&(D.services.choice=D.intervention.serviceName,C())}),c.$watch("OtrsPopupCtrl.ticket.serviceName",function(){D.refreshFAQ(),D.refreshFormDetails(),D.refreshRequests()}),c.$watch("OtrsPopupCtrl.ticket.subcategory",function(){D.refreshFormDetails()}),this.$onInit=function(){y(),D.alert={visible:!1,type:null,message:null},D.faq=null,D.servicesValues=u,D.formDetails="start",D.interventionEnum=t,z(),a.all({services:D.getServices(),me:g.Lexi().get().$promise,meVipStatus:h.Lexi().get().$promise,supportSchema:j.Lexi().schema().$promise}).then(function(a){D.currentUser=a.me,D.isVIP=-1!==_.values(a.meVipStatus.toJSON()).indexOf(!0),D.types=a.supportSchema.models["support.TicketTypeEnum"]["enum"],D.categories=a.supportSchema.models["support.TicketProductEnum"]["enum"],D.requests=a.supportSchema.models["support.TicketCategoryEnum"]["enum"],D.subCategories={assistance:[p.USAGE,p.START],billing:[q.INPROGRESS,q.BILL],incident:[s.PERFS,s.ALERTS,s.DOWN],intervention:[t.REPLACEMENTDISK]},"FR"!==D.currentUser.ovhSubsidiary&&(D.subCategories.assistance.splice(2,0,p.NEW),D.subCategories.assistance.splice(3,0,p.OTHER),D.subCategories.billing.splice(1,0,p.NEW),D.subCategories.billing.splice(3,0,p.OTHER),D.subCategories.incident.splice(3,0,p.OTHER)),1===D.categories.length&&(D.ticket.product=D.categories[0]),D.currentUser&&_.has(l.urls,[D.currentUser.ovhSubsidiary,"guides"])&&(D.intervention.guides={diskSerial:l.urls[D.currentUser.ovhSubsidiary].guides.diskSerial||l.urls.FR.guides.diskSerial,noMegaRaidLED:l.urls[D.currentUser.ovhSubsidiary].guides.noMegaRaidLED||l.urls.FR.guides.noMegaRaidLED,megaRaidLED:l.urls[D.currentUser.ovhSubsidiary].guides.megaRaidLED||l.urls.FR.guides.megaRaidLED})})["catch"](function(a){z([(f.instant("otrs_err_get_infos"),a.data&&a.data.message||"")].join(" "),"danger")})["finally"](function(){D.loaders.models=!1})}}]),angular.module("ovh-angular-otrs").directive("otrsPopup",function(){"use strict";return{restrict:"A",scope:{},replace:!1,templateUrl:"app/module-otrs/otrs-popup/otrs-popup.html",link:function(a){a.status={minimize:!1,maximize:!1,close:!1},a.minimize=function(){a.status.maximize=!1,a.status.minimize=!0,a.status.close=!1},a.maximize=function(){a.status.maximize=!0,a.status.minimize=!1,a.status.close=!1},a.restore=function(){a.status.maximize=!1,a.status.minimize=!1,a.status.close=!1},a.toggle=function(){a.status.maximize||a.status.minimize?a.restore():a.maximize()},a.close=function(){a.restore(),a.status.close=!0},a.$on("otrs.popup.maximize",a.maximize),a.$on("otrs.popup.minimize",a.minimize),a.$on("otrs.popup.restore",a.restore),a.$on("otrs.popup.toggle",a.toggle),a.$on("otrs.popup.close",a.close)}}}),angular.module("ovh-angular-otrs").service("OtrsPopupService",["$rootScope","$compile",function(a,b){"use strict";var c=this,d=["minimize","maximize","restore","close"],e=!1;angular.forEach(d,function(b){c[b]=function(c){a.$broadcast("otrs.popup."+b,c)}}),this.toggle=function(){$("[otrs-popup] .draggable").hasClass("close")?c.restore():c.close()},this.init=function(){b("<div otrs-popup></div>")(a,function(a){$("body").append(a),e=!0})},this.isLoaded=function(){return e}}]),angular.module("ovh-angular-otrs").constant("TICKET_CATEGORIES",{LIST:{WEB:["cdn","domain","exchange","hosting","mail","ssl","vps","web-billing","web-other"],TELECOM:["adsl","voip","fax","sms","telecom-billing","telecom-other"],DEDICATED:["dedicated","dedicatedcloud","housing","dedicated-other","dedicated-billing"],CLOUD:["publiccloud"]},DEFAULT:"billing"}),angular.module("ovh-angular-otrs").run(["$templateCache",function(a){"use strict";a.put("app/module-otrs/otrs-popup/otrs-popup.html","<div class=\"draggable otrs-popup\" data-draggable data-options=\"{\n         containment: 'body',\n         handle: '#headerPopup,\n         #contentPopup form'\n     }\" data-ng-class=\"{\n        'minimize': status.minimize,\n        'maximize': status.maximize,\n        'close': status.close\n"+'    }"><div data-ng-controller="OtrsPopupCtrl as OtrsPopupCtrl"><div class=draggable-header id=headerPopup><span data-ng-if="OtrsPopupCtrl.formDetails === \'replacement-disk\'" data-translate=otrs_popup_intervention></span> <span data-ng-if="OtrsPopupCtrl.formDetails !== \'replacement-disk\'" data-translate=otrs_popup_title></span><div class="otrs_popup_tools float-right"><button type=button aria-label="{{:: \'otrs_popup_icon_minimize\' | translate }}" data-ng-click=minimize()><span class="fa fa-window-minimize" aria-hidden=true></span></button> <button type=button aria-label="{{:: \'otrs_popup_icon_maximize\' | translate }}" data-ng-click=toggle()><span class="fa fa-window-maximize" aria-hidden=true></span></button> <button type=button aria-label="{{:: \'otrs_popup_icon_close\' | translate }}" data-ng-click=close()><span class="fa fa-close" aria-hidden=true></span></button></div></div><div id=contentPopup><p class="text-center font-italic" data-translate=otrs_popup_move></p><p class="text-center font-italic" data-ng-if=OtrsPopupCtrl.isVIP data-translate=otrs_vip_phone></p><div class="alert alert-dismissible" role=alert data-ng-class="\'alert-\' + OtrsPopupCtrl.alert.type" data-ng-if=OtrsPopupCtrl.alert.visible><button type=button class=close data-dismiss=alert aria-label=Close><span aria-hidden=true>&times;</span></button><p data-ng-bind-html=OtrsPopupCtrl.alert.message></p></div><form id=otrsPopupForm name=OtrsPopupCtrl.otrsPopupForm novalidate data-ng-hide="OtrsPopupCtrl.formDetails === \'replacement-disk\'" data-ng-submit=OtrsPopupCtrl.sendTicket()><div class=form-group data-ng-if="OtrsPopupCtrl.universes.length > 1"><label for=select-universe class=control-label data-translate=otrs_universe_choice></label><select class=form-control id=select-universe name=select-universe required data-ng-model=OtrsPopupCtrl.selectedUniverse data-ng-options="universe as ( \'otrs_universe_\'+ universe | translate ) for universe in OtrsPopupCtrl.universes" data-ng-change=OtrsPopupCtrl.getServices()></select></div><div class=form-group><label for=select-services class=control-label><span data-translate=otrs_popup_service></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.services data-size=s></oui-spinner></label><select class=form-control id=select-services name=select-services required data-ng-model=OtrsPopupCtrl.ticket.serviceName data-ng-disabled=OtrsPopupCtrl.loaders.services><optgroup label="{{ category.translatedName }}" data-ng-repeat="category in OtrsPopupCtrl.services track by $index"><option value="{{ service.serviceName }}" data-ng-repeat="service in category.services track by $index" data-ng-bind=service.displayName></option></optgroup></select><small data-ng-show=OtrsPopupCtrl.productHasFaq() data-translate=otrs_popup_see_faq data-translate-values="{\n                               url: OtrsPopupCtrl.faq.url\n                           }"></small></div><div class=form-group data-ng-if=OtrsPopupCtrl.isVIP><label for=select-types class=control-label><span data-translate=otrs_popup_type></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.models data-size=s></oui-spinner></label><select class=form-control id=select-types name=select-types data-ng-model=OtrsPopupCtrl.ticket.type data-ng-options="type as ( \'otrs_types_\'+type | translate ) for type in OtrsPopupCtrl.types" data-ng-disabled=OtrsPopupCtrl.loaders.models></select></div><div class=form-group><label for=select-requests class=control-label><span data-translate=otrs_category_choice></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.models data-size=s></oui-spinner></label><select class=form-control id=select-requests name=select-requests required data-ng-model=OtrsPopupCtrl.ticket.category data-ng-options="request as ( \'otrs_category_\'+request | translate ) for request in OtrsPopupCtrl.requests" data-ng-disabled=OtrsPopupCtrl.loaders.models></select></div><div class=form-group data-ng-show=OtrsPopupCtrl.ticket.category><label for=select-subCategories class=control-label><span data-translate=otrs_subCategory_choice></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.models data-size=s></oui-spinner></label><select class=form-control id=select-subCategories name=select-requests required data-ng-model=OtrsPopupCtrl.ticket.subcategory data-ng-options="subCategory as (\'otrs_subCategory_\' + OtrsPopupCtrl.ticket.category + \'_\' + subCategory | translate) for subCategory in OtrsPopupCtrl.subCategories[OtrsPopupCtrl.ticket.category]" data-ng-disabled=OtrsPopupCtrl.loaders.models></select></div><div data-ng-switch=OtrsPopupCtrl.formDetails><div data-ng-switch-when=start><button type=button class="btn btn-block btn-default" data-ng-disabled="OtrsPopupCtrl.loaders.services || OtrsPopupCtrl.loaders.send" data-ng-click=OtrsPopupCtrl.continueForm() data-translate=otrs_popup_continue></button></div><div data-ng-switch-when=message><div class=form-group><label for=txt-subject class=control-label data-translate=otrs_popup_subject></label><input id=txt-subject name=txt-subject class=form-control required placeholder="{{:: \'otrs_popup_subject\' | translate }}" data-ng-model=OtrsPopupCtrl.ticket.subject></div><div class=form-group><label for=txt-message class=control-label data-translate=otrs_popup_body></label><textarea id=txt-message name=txt-message class=form-control rows=4 required placeholder="{{:: \'otrs_popup_body\' | translate }}" data-ng-model=OtrsPopupCtrl.ticket.body>\n                            </textarea></div><div class=form-group><button type=submit class="btn btn-block btn-primary" data-ng-disabled="!OtrsPopupCtrl.otrsPopupForm.$valid || OtrsPopupCtrl.loaders.services || OtrsPopupCtrl.loaders.send"><span class="fa fa-envelope" aria-hidden=true></span> <span data-translate=otrs_popup_add_ticket></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.send data-size=s></oui-spinner></button></div></div><div data-ng-switch-when=replacement-disk></div></div></form><form id=diskReplacement name=diskReplacement data-ng-if="OtrsPopupCtrl.formDetails === OtrsPopupCtrl.interventionEnum.REPLACEMENTDISK" data-ng-submit=OtrsPopupCtrl.sendDiskReplacement()><div class=form-group><label class=control-label for=diskReplacementService><span data-translate=otrs_popup_service></span><oui-spinner data-ng-show=OtrsPopupCtrl.loaders.services data-size=s></oui-spinner><button class="btn btn-link" data-ng-hide=OtrsPopupCtrl.loaders.services data-ng-click=OtrsPopupCtrl.getServices(true) data-ng-disabled=OtrsPopupCtrl.loaders.send><span class="fa fa-refresh" aria-hidden=true></span> <span data-translate=otrs_popup_services_refresh></span></button></label><select class=form-control id=diskReplacementService name=diskReplacementService required data-ng-model=OtrsPopupCtrl.intervention.serviceName data-ng-disabled=OtrsPopupCtrl.loaders.services><optgroup label="{{ category.translatedName }}" data-ng-repeat="category in OtrsPopupCtrl.services track by $index"><option value="{{ service.serviceName }}" data-ng-repeat="service in category.services track by $index" data-ng-bind=service.displayName></option></optgroup></select></div><div class=text-center data-ng-show=OtrsPopupCtrl.loaders.intervention><oui-spinner></oui-spinner></div><div class=form-group><label class=control-label for=diskSerial><span data-ng-if=OtrsPopupCtrl.intervention.disk.inverse data-translate=otrs_intervention_disk_id_label_not></span> <span data-ng-if=!OtrsPopupCtrl.intervention.disk.inverse data-translate=otrs_intervention_disk_id_label></span> <span data-ng-if=OtrsPopupCtrl.intervention.guides.diskSerial data-translate=otrs_intervention_disk_serial_guide data-translate-values="{\n                                  url: OtrsPopupCtrl.intervention.guides.diskSerial\n                              }"></span></label><div class=input-group data-ng-repeat="disk in OtrsPopupCtrl.intervention.disk.disks"><input class=form-control name=diskSerial required data-ng-model=disk.disk_serial data-translate-attr="{\n                                   \'placeholder\': \'otrs_intervention_disk_serial_placeholder\'\n                               }"><select data-ng-if=OtrsPopupCtrl.intervention.slotInfo.canUseSlotId data-ng-model=disk.slot_id data-ng-options="n for n in OtrsPopupCtrl.intervention.enums.slotID"><option value="" selected disabled data-translate=otrs_intervention_disk_slotID></option></select><span class=input-group-btn><button type=button class="btn btn-default" data-ng-show=$first data-ng-click=OtrsPopupCtrl.addDisk()><span class="fa fa-plus" aria-hidden=true></span></button> <button type=button class="btn btn-default" data-ng-show=!$first data-ng-click=OtrsPopupCtrl.removeChoice($index)><span class="fa fa-minus" aria-hidden=true></span></button></span></div><div class=checkbox><label><input type=checkbox name=diskReplacementReverse id=diskReplacementReverse data-ng-model=OtrsPopupCtrl.intervention.disk.inverse> <span data-translate=otrs_intervention_disk_id_not_retrievable></span></label></div><div data-ng-if=OtrsPopupCtrl.intervention.canHotSwap><p><span data-translate=otrs_intervention_disk_canHotSwap></span> <span data-ng-if="OtrsPopupCtrl.intervention.hasMegaRaid && OtrsPopupCtrl.intervention.guides.megaRaidLED" data-ng-bind-html="tr(\'otrs_intervention_disk_guide\', [OtrsPopupCtrl.intervention.guides.megaRaidLED])"></span> <span data-ng-if="!OtrsPopupCtrl.intervention.hasMegaRaid && OtrsPopupCtrl.intervention.guides.noMegaRaidLED" data-ng-bind-html="tr(\'otrs_intervention_disk_guide\', [OtrsPopupCtrl.intervention.guides.noMegaRaidLED])"></span></p></div><div class=form-group><label for=diskReplacementComment class=control-label data-translate=otrs_intervention_disk_comment></label><textarea rows=4 name=diskReplacementComment id=diskReplacementComment class=form-control data-ng-model=OtrsPopupCtrl.intervention.disk.comment>\n                    </textarea><span id=helpDiskReplacementComment class="help-block italic" data-translate=otrs_intervention_disk_comment_english_please></span></div><div class="form-group confirmation"><p data-ng-if=OtrsPopupCtrl.intervention.canHotSwap data-ng-bind-html="tr(\'otrs_intervention_disk_warning_hotswap\')"></p><p data-ng-if=!OtrsPopupCtrl.intervention.canHotSwap data-ng-bind-html="tr(\'otrs_intervention_disk_warning2\')"></p><div class=checkbox><label><input type=checkbox name=diskReplacementConfirm id=diskReplacementConfirm data-ng-model=OtrsPopupCtrl.intervention.confirm> <span data-translate=otrs_intervention_disk_confirm></span></label></div></div><button type=button class="btn btn-block btn-default" data-ng-click="OtrsPopupCtrl.setForm(\'start\')" data-translate=otrs_popup_back></button> <button type=submit class="btn btn-block btn-primary" data-ng-disabled="!diskReplacement.$valid ||\n                                           OtrsPopupCtrl.loaders.services ||\n                                           OtrsPopupCtrl.loaders.send ||\n                                           !OtrsPopupCtrl.intervention.confirm ||\n                                           OtrsPopupCtrl.loaders.intervention"><span class="fa fa-envelope" aria-hidden=true></span> <span data-translate=otrs_popup_add_ticket></span><oui-spinner data-ng-if=OtrsPopupCtrl.loaders.send data-size=s></oui-spinner></button></div></form></div></div></div>')}]);